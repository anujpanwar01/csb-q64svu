(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(7),i=n.n(s),o=(n(18),n(3)),a=n(5),l=n(2),j=n(8),b=n.n(j),u=n(0),d=function(e){return Object(u.jsxs)("li",{className:b.a.movie,children:[Object(u.jsx)("h2",{children:e.title}),Object(u.jsx)("h3",{children:e.releaseDate}),Object(u.jsx)("p",{children:e.openingText})]})},x=n(9),O=n.n(x),h=function(e){return Object(u.jsx)("ul",{className:O.a["movies-list"],children:e.movies.map((function(e){return Object(u.jsx)(d,{title:e.title,releaseDate:e.release,openingText:e.openingText},e.id)}))})},f=n(4),p=n.n(f);var v=function(e){var t=Object(c.useRef)(""),n=Object(c.useRef)(""),r=Object(c.useRef)("");return Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault();var s={title:t.current.value,openingText:n.current.value,releaseDate:r.current.value};e.onAddMovie(s)},children:[Object(u.jsxs)("div",{className:p.a.control,children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title"}),Object(u.jsx)("input",{type:"text",id:"title",ref:t})]}),Object(u.jsxs)("div",{className:p.a.control,children:[Object(u.jsx)("label",{htmlFor:"opening-text",children:"Opening Text"}),Object(u.jsx)("textarea",{rows:"5",id:"opening-text",ref:n})]}),Object(u.jsxs)("div",{className:p.a.control,children:[Object(u.jsx)("label",{htmlFor:"date",children:"Release Date"}),Object(u.jsx)("input",{type:"text",id:"date",ref:r})]}),Object(u.jsx)("button",{children:"Add Movie"})]})};n(20);var m=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!1),j=Object(l.a)(i,2),b=j[0],d=j[1],x=Object(c.useState)(null),O=Object(l.a)(x,2),f=O[0],p=O[1],m=Object(c.useState)(!1),g=Object(l.a)(m,2),w=g[0],k=g[1],T=Object(c.useCallback)(Object(a.a)(Object(o.a)().mark((function e(){var t,n,c,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),p(null),e.prev=2,e.next=5,fetch("https://react-abfeb-default-rtdb.firebaseio.com/movies.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong!");case 8:return e.next=10,t.json();case 10:for(r in n=e.sent,c=[],n)c.push({id:r,title:n[r].title,openingText:n[r].openingText,releaseDate:n[r].releaseDate});console.log(c),s(c),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),p(e.t0.message);case 20:d(!1);case 21:case"end":return e.stop()}}),e,null,[[2,17]])}))),[]);function _(){return(_=Object(a.a)(Object(o.a)().mark((function e(t){var n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!w),e.next=3,fetch("https://react-abfeb-default-rtdb.firebaseio.com/movies.json",{method:"POST",body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){T()}),[T,w]);var M=Object(u.jsx)("p",{children:"Found no movies."});return n.length>0&&(M=Object(u.jsx)(h,{movies:n})),f&&(M=Object(u.jsx)("p",{children:f})),b&&(M=Object(u.jsx)("p",{children:"Loading..."})),Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)("section",{children:Object(u.jsx)(v,{onAddMovie:function(e){return _.apply(this,arguments)}})}),Object(u.jsx)("section",{children:Object(u.jsx)("button",{onClick:T,children:"Fetch Movies"})}),Object(u.jsx)("section",{children:M})]})};i.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(m,{}))},4:function(e,t,n){e.exports={control:"AddMovie_control__2ENNX"}},8:function(e,t,n){e.exports={movie:"Movie_movie__27rBX"}},9:function(e,t,n){e.exports={"movies-list":"MoviesList_movies-list__lMnXQ"}}},[[21,1,2]]]);
//# sourceMappingURL=main.5139af75.chunk.js.map